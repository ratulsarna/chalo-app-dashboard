{
  "flowId": "wallet",
  "flowName": "Chalo Wallet Operations",
  "description": "Complete analytics map for wallet balance viewing, load money, transactions, Quick Pay, and wallet access/KYC flows.",
  "propertyDefinitions": {
    "walletId": {
      "type": "string",
      "description": "Unique identifier for the user's wallet."
    },
    "walletBalance": {
      "type": "number",
      "description": "Current wallet balance amount in currency units."
    },
    "walletStatus": {
      "type": "string",
      "description": "Current status of the wallet.",
      "values": [
        "USER_NOT_LOGGED_IN",
        "DOES_NOT_EXIST",
        "REQUIRES_KYC",
        "MIN_KYC_PENDING",
        "BLOCKED",
        "REQUIRES_BACKEND_RECLAIM",
        "ACTIVE"
      ]
    },
    "walletLoadAmount": {
      "type": "number",
      "description": "Amount entered by user to load into wallet."
    },
    "loadSuggestedAmount": {
      "type": "string",
      "description": "Comma-separated list of suggested amounts shown to the user."
    },
    "wallet suggested amount": {
      "type": "number",
      "description": "Specific suggested denomination selected by the user."
    },
    "kycDone": {
      "type": "boolean",
      "description": "Whether KYC has been completed for the wallet."
    },
    "walletSyncFailureReason": {
      "type": "string",
      "description": "Reason why wallet sync failed after recharge."
    },
    "rechargeOrderFailureReason": {
      "type": "string",
      "description": "Reason why recharge order creation failed."
    },
    "clicked transaction id": {
      "type": "string",
      "description": "Transaction ID of the clicked transaction in the list."
    },
    "wallet balance transaction title": {
      "type": "string",
      "description": "Product name or title of the transaction (for CHALO_PAY transactions)."
    },
    "wallet balance transaction date": {
      "type": "string",
      "description": "Formatted date when the transaction occurred."
    },
    "wallet balance transaction type": {
      "type": "string",
      "description": "Type of wallet transaction.",
      "values": [
        "QUICK_PAY",
        "LOAD_MONEY",
        "CHALO_PAY"
      ]
    },
    "wallet balance transaction status": {
      "type": "string",
      "description": "Status of the transaction.",
      "values": [
        "SUCCESS",
        "FAILED",
        "PROCESSING",
        "RECLAIMABLE"
      ]
    },
    "wallet balance orderId": {
      "type": "string",
      "description": "Order ID or booking ID associated with the transaction."
    },
    "wallet balance time long": {
      "type": "number",
      "description": "Unix timestamp of when the transaction occurred."
    },
    "wallet balance transaction amount": {
      "type": "number",
      "description": "Amount of the transaction in currency units."
    },
    "wallet transaction summary amount": {
      "type": "number",
      "description": "Transaction amount shown in the summary screen."
    },
    "wallet transaction summary time": {
      "type": "string",
      "description": "Formatted time of the transaction in the summary."
    },
    "wallet transaction summary orderId": {
      "type": "string",
      "description": "Order ID shown in the transaction summary."
    },
    "wallet transaction summary transaction type": {
      "type": "string",
      "description": "Transaction type shown in summary (QUICK_PAY/LOAD_MONEY/CHALO_PAY)."
    },
    "wallet transaction summary transaction status": {
      "type": "string",
      "description": "Transaction status shown in summary screen."
    },
    "wallet transaction summary mode of payment": {
      "type": "string",
      "description": "Payment mode used for the transaction (UPI, Card, NetBanking, etc.)."
    },
    "walletAccessBottomSheetType": {
      "type": "string",
      "description": "Type of wallet access bottom sheet shown to the user."
    },
    "is chalo wallet activated": {
      "type": "boolean",
      "description": "Whether the Chalo wallet is currently activated for the user."
    },
    "wallet banner url": {
      "type": "string",
      "description": "Image URL of the promotional banner rendered in wallet screens."
    },
    "wallet banner deeplink": {
      "type": "string",
      "description": "Deeplink URL associated with the promotional banner."
    },
    "isSuccessful": {
      "type": "boolean",
      "description": "Whether the wallet migration operation succeeded."
    },
    "error name": {
      "type": "string",
      "description": "Name of the error that occurred during wallet migration."
    },
    "chalo pay bottom sheet amount": {
      "type": "number",
      "description": "Amount being paid through Quick Pay bottom sheet."
    },
    "chalo pay bottom sheet wallet balance left": {
      "type": "number",
      "description": "Remaining wallet balance after the Quick Pay transaction."
    },
    "chalo pay trip amount": {
      "type": "number",
      "description": "Amount entered for the Quick Pay trip."
    },
    "chalo pay trip amount fragment next button clicked failure message": {
      "type": "string",
      "description": "Error message when Quick Pay trip amount next button click fails."
    },
    "min kyc name": {
      "type": "string",
      "description": "Name entered by the user during minimum KYC flow."
    },
    "min kyc otp failure": {
      "type": "string",
      "description": "Reason for OTP verification failure during minimum KYC."
    },
    "min kyc detail radio button status": {
      "type": "string",
      "description": "Status of the radio button selection in minimum KYC details."
    },
    "chaloPayWalletState": {
      "type": "string",
      "description": "State of the wallet in ChaloPayV3 flow."
    },
    "chaloPayWalletBalance": {
      "type": "number",
      "description": "Wallet balance in ChaloPayV3 flow."
    },
    "bottomsheetCTA": {
      "type": "string",
      "description": "CTA action triggered from the ChaloPayV3 bottom sheet."
    }
  },
  "stages": [
    {
      "name": "Wallet Entry Points",
      "description": "Various entry points to access wallet functionality from home screen, menu, and other locations.",
      "events": [
        "chalo wallet clicked",
        "wallet icon menu clicked",
        "wallet onBoarding bottom sheet positive button clicked"
      ]
    },
    {
      "name": "Wallet Balance View",
      "description": "User opens wallet screen, views balance, recent transactions, and promotional banners.",
      "events": [
        "wallet balance fragment opened",
        "wallet banner rendered",
        "wallet banner clicked",
        "wallet balance add money clicked",
        "wallet balance see all transaction clicked",
        "wallet all transaction event clicked"
      ]
    },
    {
      "name": "Load Money Flow",
      "description": "User loads money into wallet by entering amount, selecting suggested denominations, completing payment, and seeing success confirmation.",
      "events": [
        "wallet load balance enter amount fragment opened",
        "wallet suggested amount clicked",
        "wallet load balance fragment next button clicked",
        "load money wallet recharge order success",
        "load money wallet recharge order failed",
        "load money wallet sync failed",
        "wallet banner rendered",
        "wallet banner clicked",
        "wallet amount added continue clicked event"
      ]
    },
    {
      "name": "All Transactions View",
      "description": "User views all historical wallet transactions and clicks on specific transactions for details.",
      "events": [
        "wallet all transaction fragment opened",
        "wallet all transaction event clicked"
      ]
    },
    {
      "name": "Transaction Summary",
      "description": "User views detailed summary of a specific wallet transaction.",
      "events": [
        "wallet transaction summary fragment opened",
        "wallet transaction summary ui model data fetched"
      ]
    },
    {
      "name": "Wallet Access & KYC",
      "description": "Wallet access status checks, activation flows, KYC requirements, and wallet migration.",
      "events": [
        "process wallet access status",
        "wallet access bottom sheet opened",
        "activate wallet clicked",
        "wallet load money clicked",
        "refresh wallet clicked",
        "wallet blocked know more clicked",
        "full kyc know more clicked",
        "post device id for wallet migration",
        "auto reclaim for wallet migration"
      ]
    },
    {
      "name": "Minimum KYC",
      "description": "Minimum KYC flow for wallet activation - name entry, radio button selection, OTP verification, and error/success states.",
      "events": [
        "min kyc detail opened",
        "min kyc detail proceed button clicked",
        "min kyc detail name entered",
        "min kyc detail radio button clicked",
        "min kyc detail next button clicked",
        "min kyc otp fragment opened",
        "min kyc otp resend sms clicked",
        "min kyc otp proceed button clicked",
        "min kyc otp success",
        "min kyc otp failure",
        "min kyc activation failed",
        "min kyc error bottom sheet opened",
        "min kyc error bottom sheet cta clicked",
        "min kyc user registered bottom sheet opened"
      ]
    },
    {
      "name": "Quick Pay (ChaloPayV2)",
      "description": "Quick Pay ticket purchase flow - trip amount entry, bottom sheet confirmation, order creation, and ticket usage.",
      "events": [
        "chalo pay trip amount fragment opened",
        "chalo pay trip amount fragment next button clicked",
        "chalo pay trip amount fragment next button clicked failure",
        "chalo pay trip amount fragment chalo pay history clicked",
        "chalo pay bottom sheet fragment opened",
        "chalo pay bottom sheet fragment next button clicked",
        "chalo pay bottom sheet recharge button clicked",
        "chalo pay prerequisites failed",
        "chalo pay order created",
        "chalo pay summary screen opened",
        "chalo pay card clicked",
        "chalo pay ticket clicked",
        "chalo pay ticket punched",
        "chalo pay punch received",
        "chalo pay view receipt clicked",
        "chalo pay receipt shown",
        "chalo pay receipt opened"
      ]
    },
    {
      "name": "ChaloPayV3",
      "description": "Alternative ChaloPayV3 entry point with its own bottom sheet and payment flow.",
      "events": [
        "chaloPayItemRendered",
        "chaloPayItemClicked",
        "chaloPayBottomsheetOpened",
        "chaloPayBottomsheetTncClicked",
        "chaloPayBottomsheetConfirmPaymentClicked",
        "chaloPayBottomsheetRechargeClicked",
        "chaloPayOrderCreationSuccess",
        "chaloPayOrderCreationFailed",
        "chaloPayPaymentSuccess",
        "chaloPayPaymentFailed"
      ]
    },
    {
      "name": "Background Sync",
      "description": "Background wallet sync operations to keep balance updated.",
      "events": [
        "wallet sync worker started",
        "wallet sync worker result",
        "wallet sync result"
      ]
    },
    {
      "name": "Misc",
      "description": "Auto-added stage (validate grouping).",
      "events": [
        "find fare card clicked"
      ]
    }
  ],
  "events": [
    {
      "name": "activate wallet clicked",
      "component": "WalletAccessManagerImpl",
      "stage": "Wallet Access & KYC",
      "source": "wallet access base fragment",
      "description": "User clicked button to activate wallet.",
      "properties": []
    },
    {
      "name": "auto reclaim for wallet migration",
      "component": "WalletAccessManagerImpl",
      "stage": "Wallet Access & KYC",
      "source": "wallet access base fragment",
      "description": "Automatic wallet reclaim attempted during migration.",
      "properties": [
        {
          "property": "isSuccessful",
          "context": "Whether auto reclaim succeeded"
        },
        {
          "property": "error name",
          "context": "Error name if reclaim failed"
        }
      ]
    },
    {
      "name": "chalo pay bottom sheet fragment next button clicked",
      "component": "QuickPayBottomSheetHelper",
      "stage": "Quick Pay (ChaloPayV2)",
      "source": "quick pay components",
      "description": "User confirmed Quick Pay payment from bottom sheet.",
      "properties": [
        {
          "property": "chalo pay bottom sheet amount",
          "context": "Amount being paid"
        },
        {
          "property": "chalo pay bottom sheet wallet balance left",
          "context": "Remaining balance after payment"
        }
      ]
    },
    {
      "name": "chalo pay bottom sheet fragment opened",
      "component": "QuickPayBottomSheetHelper",
      "stage": "Quick Pay (ChaloPayV2)",
      "source": "quick pay components",
      "description": "Quick Pay confirmation bottom sheet opened.",
      "properties": []
    },
    {
      "name": "chalo pay bottom sheet recharge button clicked",
      "component": "QuickPayBottomSheetHelper",
      "stage": "Quick Pay (ChaloPayV2)",
      "source": "quick pay components",
      "description": "User clicked recharge button from Quick Pay bottom sheet due to insufficient balance.",
      "properties": []
    },
    {
      "name": "chalo pay card clicked",
      "component": "PayForTicketComponent",
      "stage": "Quick Pay (ChaloPayV2)",
      "source": "quick pay components",
      "description": "User clicked on Quick Pay ticket card.",
      "properties": []
    },
    {
      "name": "chalo pay order created",
      "component": "PayForTicketComponent",
      "stage": "Quick Pay (ChaloPayV2)",
      "source": "quick pay components",
      "description": "Quick Pay order successfully created.",
      "properties": []
    },
    {
      "name": "chalo pay prerequisites failed",
      "component": "PayForTicketComponent",
      "stage": "Quick Pay (ChaloPayV2)",
      "source": "quick pay components",
      "description": "Quick Pay prerequisites check failed (insufficient balance, wallet not active, etc.).",
      "properties": []
    },
    {
      "name": "chalo pay punch received",
      "component": "PayForTicketComponent",
      "stage": "Quick Pay (ChaloPayV2)",
      "source": "quick pay components",
      "description": "Punch confirmation received from conductor device.",
      "properties": []
    },
    {
      "name": "chalo pay receipt opened",
      "component": "PayForTicketComponent",
      "stage": "Quick Pay (ChaloPayV2)",
      "source": "quick pay components",
      "description": "Quick Pay receipt screen fully opened.",
      "properties": []
    },
    {
      "name": "chalo pay receipt shown",
      "component": "PayForTicketComponent",
      "stage": "Quick Pay (ChaloPayV2)",
      "source": "quick pay components",
      "description": "Quick Pay receipt displayed to user.",
      "properties": []
    },
    {
      "name": "chalo pay summary screen opened",
      "component": "PayForTicketComponent",
      "stage": "Quick Pay (ChaloPayV2)",
      "source": "quick pay components",
      "description": "Quick Pay ticket summary screen opened after successful payment.",
      "properties": []
    },
    {
      "name": "chalo pay ticket clicked",
      "component": "PayForTicketComponent",
      "stage": "Quick Pay (ChaloPayV2)",
      "source": "quick pay components",
      "description": "User clicked on the Quick Pay ticket to view details or activate.",
      "properties": []
    },
    {
      "name": "chalo pay ticket punched",
      "component": "PayForTicketComponent",
      "stage": "Quick Pay (ChaloPayV2)",
      "source": "quick pay components",
      "description": "Quick Pay ticket was validated/punched on the bus.",
      "properties": []
    },
    {
      "name": "chalo pay trip amount fragment chalo pay history clicked",
      "component": "QuickpayTripAmountComponent",
      "stage": "Quick Pay (ChaloPayV2)",
      "source": "quick pay components",
      "description": "User clicked to view Quick Pay history.",
      "properties": []
    },
    {
      "name": "chalo pay trip amount fragment next button clicked",
      "component": "QuickpayTripAmountComponent",
      "stage": "Quick Pay (ChaloPayV2)",
      "source": "quick pay components",
      "description": "User clicked next after entering trip amount.",
      "properties": [
        {
          "property": "chalo pay trip amount",
          "context": "Amount entered for trip"
        }
      ]
    },
    {
      "name": "chalo pay trip amount fragment next button clicked failure",
      "component": "QuickpayTripAmountComponent",
      "stage": "Quick Pay (ChaloPayV2)",
      "source": "quick pay components",
      "description": "Next button click failed with validation error.",
      "properties": [
        {
          "property": "chalo pay trip amount fragment next button clicked failure message",
          "context": "Error message for failure"
        }
      ]
    },
    {
      "name": "chalo pay trip amount fragment opened",
      "component": "QuickpayTripAmountComponent",
      "stage": "Quick Pay (ChaloPayV2)",
      "source": "quick pay components",
      "description": "Quick Pay trip amount entry screen opened.",
      "properties": []
    },
    {
      "name": "chalo pay view receipt clicked",
      "component": "PayForTicketComponent",
      "stage": "Quick Pay (ChaloPayV2)",
      "source": "quick pay components",
      "description": "User clicked to view Quick Pay receipt.",
      "properties": []
    },
    {
      "name": "chalo wallet clicked",
      "component": "HomeScreenComponent or other entry points",
      "stage": "Wallet Entry Points",
      "source": "various sources",
      "description": "User clicked on wallet icon or button from home screen or other locations to access wallet.",
      "properties": []
    },
    {
      "name": "chaloPayBottomsheetConfirmPaymentClicked",
      "component": "ChaloPayV3Component",
      "stage": "ChaloPayV3",
      "source": "chalo pay v3 components",
      "description": "User confirmed payment in ChaloPayV3 bottom sheet.",
      "properties": []
    },
    {
      "name": "chaloPayBottomsheetOpened",
      "component": "ChaloPayV3Component",
      "stage": "ChaloPayV3",
      "source": "chalo pay v3 components",
      "description": "ChaloPayV3 bottom sheet opened.",
      "properties": []
    },
    {
      "name": "chaloPayBottomsheetRechargeClicked",
      "component": "ChaloPayV3Component",
      "stage": "ChaloPayV3",
      "source": "chalo pay v3 components",
      "description": "User clicked recharge button in ChaloPayV3 bottom sheet.",
      "properties": []
    },
    {
      "name": "chaloPayBottomsheetTncClicked",
      "component": "ChaloPayV3Component",
      "stage": "ChaloPayV3",
      "source": "chalo pay v3 components",
      "description": "User clicked Terms & Conditions in ChaloPayV3 bottom sheet.",
      "properties": []
    },
    {
      "name": "chaloPayItemClicked",
      "component": "ChaloPayV3Component",
      "stage": "ChaloPayV3",
      "source": "chalo pay v3 components",
      "description": "User clicked on ChaloPayV3 item.",
      "properties": []
    },
    {
      "name": "chaloPayItemRendered",
      "component": "ChaloPayV3Component",
      "stage": "ChaloPayV3",
      "source": "chalo pay v3 components",
      "description": "ChaloPayV3 item rendered in UI.",
      "properties": []
    },
    {
      "name": "chaloPayOrderCreationFailed",
      "component": "ChaloPayV3Component",
      "stage": "ChaloPayV3",
      "source": "chalo pay v3 components",
      "description": "ChaloPayV3 order creation failed.",
      "properties": []
    },
    {
      "name": "chaloPayOrderCreationSuccess",
      "component": "ChaloPayV3Component",
      "stage": "ChaloPayV3",
      "source": "chalo pay v3 components",
      "description": "ChaloPayV3 order created successfully.",
      "properties": []
    },
    {
      "name": "chaloPayPaymentFailed",
      "component": "ChaloPayV3Component",
      "stage": "ChaloPayV3",
      "source": "chalo pay v3 components",
      "description": "ChaloPayV3 payment failed.",
      "properties": []
    },
    {
      "name": "chaloPayPaymentSuccess",
      "component": "ChaloPayV3Component",
      "stage": "ChaloPayV3",
      "source": "chalo pay v3 components",
      "description": "ChaloPayV3 payment completed successfully.",
      "properties": []
    },
    {
      "name": "find fare card clicked",
      "component": "PayForTicketComponent",
      "stage": "Misc",
      "source": "Source.PAY_FOR_TICKET_SCREEN",
      "description": "Auto-documented from code callsite: shared/wallet/src/commonMain/kotlin/app/chalo/quickpay/ui/payforticket/PayForTicketComponent.kt:155",
      "properties": []
    },
    {
      "name": "full kyc know more clicked",
      "component": "WalletAccessManagerImpl",
      "stage": "Wallet Access & KYC",
      "source": "wallet access base fragment",
      "description": "User clicked 'Know More' for full KYC information.",
      "properties": []
    },
    {
      "name": "load money wallet recharge order failed",
      "component": "WalletLoadBalanceEnterAmountComponent",
      "stage": "Load Money Flow",
      "source": "app.chalo.wallet.ui.loadbalance.WalletLoadBalanceEnterAmountComponent",
      "description": "Recharge order creation failed.",
      "properties": [
        {
          "property": "rechargeOrderFailureReason",
          "context": "Reason for order creation failure"
        }
      ]
    },
    {
      "name": "load money wallet recharge order success",
      "component": "WalletLoadBalanceEnterAmountComponent",
      "stage": "Load Money Flow",
      "source": "app.chalo.wallet.ui.loadbalance.WalletLoadBalanceEnterAmountComponent",
      "description": "Recharge order successfully created on the backend.",
      "properties": [
        {
          "property": "walletLoadAmount",
          "context": "Amount for which order was created"
        }
      ]
    },
    {
      "name": "load money wallet sync failed",
      "component": "WalletLoadBalanceEnterAmountComponent",
      "stage": "Load Money Flow",
      "source": "app.chalo.wallet.ui.loadbalance.WalletLoadBalanceEnterAmountComponent",
      "description": "Wallet balance sync failed after payment completion.",
      "properties": [
        {
          "property": "walletSyncFailureReason",
          "context": "Reason for wallet sync failure"
        }
      ]
    },
    {
      "name": "min kyc activation failed",
      "component": "MinKycComponent",
      "stage": "Minimum KYC",
      "source": "min kyc component",
      "description": "Wallet activation failed after minimum KYC completion.",
      "properties": []
    },
    {
      "name": "min kyc detail name entered",
      "component": "MinKycComponent",
      "stage": "Minimum KYC",
      "source": "min kyc component",
      "description": "User entered their name in minimum KYC flow.",
      "properties": [
        {
          "property": "min kyc name",
          "context": "Name entered by user"
        }
      ]
    },
    {
      "name": "min kyc detail next button clicked",
      "component": "MinKycComponent",
      "stage": "Minimum KYC",
      "source": "min kyc component",
      "description": "User clicked next button after entering KYC details.",
      "properties": []
    },
    {
      "name": "min kyc detail opened",
      "component": "MinKycComponent",
      "stage": "Minimum KYC",
      "source": "min kyc component",
      "description": "Minimum KYC detail entry screen opened.",
      "properties": []
    },
    {
      "name": "min kyc detail proceed button clicked",
      "component": "MinKycComponent",
      "stage": "Minimum KYC",
      "source": "min kyc component",
      "description": "User clicked proceed button in KYC details screen.",
      "properties": []
    },
    {
      "name": "min kyc detail radio button clicked",
      "component": "MinKycComponent",
      "stage": "Minimum KYC",
      "source": "min kyc component",
      "description": "User clicked radio button in KYC details.",
      "properties": []
    },
    {
      "name": "min kyc error bottom sheet cta clicked",
      "component": "MinKycComponent",
      "stage": "Minimum KYC",
      "source": "min kyc component",
      "description": "User clicked on CTA button in the minimum KYC error bottom sheet.",
      "properties": []
    },
    {
      "name": "min kyc error bottom sheet opened",
      "component": "MinKycComponent",
      "stage": "Minimum KYC",
      "source": "min kyc component",
      "description": "Error bottom sheet displayed when minimum KYC flow encounters an error.",
      "properties": []
    },
    {
      "name": "min kyc otp failure",
      "component": "MinKycComponent",
      "stage": "Minimum KYC",
      "source": "min kyc component",
      "description": "OTP verification failed.",
      "properties": [
        {
          "property": "min kyc otp failure",
          "context": "Reason for OTP failure"
        }
      ]
    },
    {
      "name": "min kyc otp fragment opened",
      "component": "MinKycComponent",
      "stage": "Minimum KYC",
      "source": "min kyc component",
      "description": "OTP verification screen opened for minimum KYC.",
      "properties": []
    },
    {
      "name": "min kyc otp proceed button clicked",
      "component": "MinKycComponent",
      "stage": "Minimum KYC",
      "source": "min kyc component",
      "description": "User clicked proceed after entering OTP.",
      "properties": []
    },
    {
      "name": "min kyc otp resend sms clicked",
      "component": "MinKycComponent",
      "stage": "Minimum KYC",
      "source": "min kyc component",
      "description": "User clicked to resend OTP SMS.",
      "properties": []
    },
    {
      "name": "min kyc otp success",
      "component": "MinKycComponent",
      "stage": "Minimum KYC",
      "source": "min kyc component",
      "description": "OTP verification successful for minimum KYC.",
      "properties": []
    },
    {
      "name": "min kyc user registered bottom sheet opened",
      "component": "MinKycComponent",
      "stage": "Minimum KYC",
      "source": "min kyc component",
      "description": "Bottom sheet displayed when user is already registered with minimum KYC.",
      "properties": []
    },
    {
      "name": "post device id for wallet migration",
      "component": "WalletAccessManagerImpl",
      "stage": "Wallet Access & KYC",
      "source": "wallet access base fragment",
      "description": "Device ID posted for wallet migration process.",
      "properties": [
        {
          "property": "isSuccessful",
          "context": "Whether posting device ID succeeded"
        }
      ]
    },
    {
      "name": "process wallet access status",
      "component": "WalletAccessManagerImpl",
      "stage": "Wallet Access & KYC",
      "source": "wallet access base fragment",
      "description": "Wallet access status check and processing result.",
      "properties": [
        {
          "property": "walletStatus",
          "context": "Current wallet status (USER_NOT_LOGGED_IN, DOES_NOT_EXIST, REQUIRES_KYC, MIN_KYC_PENDING, BLOCKED, REQUIRES_BACKEND_RECLAIM, ACTIVE)"
        }
      ]
    },
    {
      "name": "refresh wallet clicked",
      "component": "WalletAccessManagerImpl",
      "stage": "Wallet Access & KYC",
      "source": "wallet access base fragment",
      "description": "User clicked refresh to update wallet status.",
      "properties": []
    },
    {
      "name": "wallet access bottom sheet opened",
      "component": "WalletAccessManagerImpl",
      "stage": "Wallet Access & KYC",
      "source": "wallet access base fragment",
      "description": "Wallet access information bottom sheet displayed.",
      "properties": [
        {
          "property": "walletAccessBottomSheetType",
          "context": "Type of access bottom sheet shown"
        }
      ]
    },
    {
      "name": "wallet all transaction event clicked",
      "component": "WalletBalanceComponent, WalletAllTransactionsComponent",
      "stage": "Wallet Balance View, All Transactions View",
      "source": "wallet transaction components",
      "description": "User clicked on a specific transaction to view details.",
      "properties": [
        {
          "property": "clicked transaction id",
          "context": "ID of the clicked transaction"
        },
        {
          "property": "wallet balance transaction title",
          "context": "Product name for CHALO_PAY transactions"
        },
        {
          "property": "wallet balance transaction date",
          "context": "Formatted transaction date"
        },
        {
          "property": "wallet balance transaction type",
          "context": "QUICK_PAY, LOAD_MONEY, or CHALO_PAY"
        },
        {
          "property": "wallet balance transaction status",
          "context": "SUCCESS, FAILED, PROCESSING, or RECLAIMABLE"
        },
        {
          "property": "wallet balance orderId",
          "context": "Order or booking ID"
        },
        {
          "property": "wallet balance transaction amount",
          "context": "Transaction amount (only in WalletAllTransactionsComponent)"
        },
        {
          "property": "wallet balance time long",
          "context": "Unix timestamp"
        }
      ]
    },
    {
      "name": "wallet all transaction fragment opened",
      "component": "WalletAllTransactionsComponent",
      "stage": "All Transactions View",
      "source": "app.chalo.wallet.ui.alltransactions.WalletAllTransactionsComponent",
      "description": "Complete transaction history screen opened.",
      "properties": []
    },
    {
      "name": "wallet amount added continue clicked event",
      "component": "WalletLoadBalanceSuccessComponent",
      "stage": "Load Money Flow",
      "source": "wallet load balance success component",
      "description": "User clicked continue button on wallet amount added success screen.",
      "properties": []
    },
    {
      "name": "wallet balance add money clicked",
      "component": "WalletBalanceComponent",
      "stage": "Wallet Balance View",
      "source": "app.chalo.wallet.ui.mainbalance.WalletBalanceComponent",
      "description": "User clicked on 'Add Money' button to load balance.",
      "properties": []
    },
    {
      "name": "wallet balance fragment opened",
      "component": "WalletBalanceComponent",
      "stage": "Wallet Balance View",
      "source": "app.chalo.wallet.ui.mainbalance.WalletBalanceComponent",
      "description": "Main wallet balance screen opened, showing current balance and recent transactions.",
      "properties": []
    },
    {
      "name": "wallet balance see all transaction clicked",
      "component": "WalletBalanceComponent",
      "stage": "Wallet Balance View",
      "source": "app.chalo.wallet.ui.mainbalance.WalletBalanceComponent",
      "description": "User clicked 'See All' to view complete transaction history.",
      "properties": []
    },
    {
      "name": "wallet banner clicked",
      "component": "WalletBalanceComponent, WalletLoadBalanceEnterAmountComponent",
      "stage": "Wallet Balance View, Load Money Flow",
      "source": "wallet screen components",
      "description": "User clicked on promotional banner in wallet screens.",
      "properties": []
    },
    {
      "name": "wallet banner rendered",
      "component": "WalletBalanceComponent, WalletLoadBalanceEnterAmountComponent",
      "stage": "Wallet Balance View, Load Money Flow",
      "source": "wallet screen components",
      "description": "Promotional banner rendered on wallet screens with URL and deeplink.",
      "properties": [
        {
          "property": "wallet banner url",
          "context": "Image URL of the banner"
        },
        {
          "property": "wallet banner deeplink",
          "context": "Deeplink URL for banner click action"
        }
      ]
    },
    {
      "name": "wallet blocked know more clicked",
      "component": "WalletAccessManagerImpl",
      "stage": "Wallet Access & KYC",
      "source": "wallet access base fragment",
      "description": "User clicked 'Know More' when wallet is blocked.",
      "properties": []
    },
    {
      "name": "wallet icon menu clicked",
      "component": "MenuComponent",
      "stage": "Wallet Entry Points",
      "source": "menu component",
      "description": "User clicked on wallet icon from navigation menu.",
      "properties": []
    },
    {
      "name": "wallet load balance enter amount fragment opened",
      "component": "WalletLoadBalanceEnterAmountComponent",
      "stage": "Load Money Flow",
      "source": "app.chalo.wallet.ui.loadbalance.WalletLoadBalanceEnterAmountComponent",
      "description": "Load money screen opened where user enters amount to load.",
      "properties": [
        {
          "property": "kycDone",
          "context": "Whether KYC is completed"
        }
      ]
    },
    {
      "name": "wallet load balance fragment next button clicked",
      "component": "WalletLoadBalanceEnterAmountComponent",
      "stage": "Load Money Flow",
      "source": "app.chalo.wallet.ui.loadbalance.WalletLoadBalanceEnterAmountComponent",
      "description": "User clicked next button to proceed with loading the entered amount.",
      "properties": [
        {
          "property": "walletLoadAmount",
          "context": "Amount entered by user"
        },
        {
          "property": "loadSuggestedAmount",
          "context": "List of suggested amounts shown"
        }
      ]
    },
    {
      "name": "wallet load money clicked",
      "component": "WalletAccessManagerImpl",
      "stage": "Wallet Access & KYC",
      "source": "wallet access base fragment",
      "description": "User clicked load money from access bottom sheet.",
      "properties": []
    },
    {
      "name": "wallet onBoarding bottom sheet positive button clicked",
      "component": "WalletOnboardingComponent",
      "stage": "Wallet Entry Points",
      "source": "wallet onboarding component",
      "description": "User clicked positive button (e.g., 'Get Started') on wallet onboarding bottom sheet.",
      "properties": []
    },
    {
      "name": "wallet suggested amount clicked",
      "component": "WalletLoadBalanceEnterAmountComponent",
      "stage": "Load Money Flow",
      "source": "app.chalo.wallet.ui.loadbalance.WalletLoadBalanceEnterAmountComponent",
      "description": "User selected a suggested denomination amount.",
      "properties": [
        {
          "property": "wallet suggested amount",
          "context": "Selected suggested amount value"
        }
      ]
    },
    {
      "name": "wallet sync result",
      "component": "WalletSyncWorker",
      "stage": "Background Sync",
      "source": "WalletSyncWorker",
      "description": "Wallet sync operation result.",
      "properties": []
    },
    {
      "name": "wallet sync worker result",
      "component": "WalletSyncWorker",
      "stage": "Background Sync",
      "source": "WalletSyncWorker",
      "description": "Background wallet sync worker completed with result.",
      "properties": []
    },
    {
      "name": "wallet sync worker started",
      "component": "WalletSyncWorker",
      "stage": "Background Sync",
      "source": "WalletSyncWorker",
      "description": "Background wallet sync worker started.",
      "properties": []
    },
    {
      "name": "wallet transaction summary fragment opened",
      "component": "WalletTransactionSummaryComponent",
      "stage": "Transaction Summary",
      "source": "app.chalo.wallet.ui.transactionsummary.WalletTransactionSummaryComponent",
      "description": "Transaction detail summary screen opened.",
      "properties": []
    },
    {
      "name": "wallet transaction summary ui model data fetched",
      "component": "WalletTransactionSummaryComponent",
      "stage": "Transaction Summary",
      "source": "app.chalo.wallet.ui.transactionsummary.WalletTransactionSummaryComponent",
      "description": "Transaction detail data successfully fetched and displayed.",
      "properties": [
        {
          "property": "wallet transaction summary amount",
          "context": "Transaction amount"
        },
        {
          "property": "wallet transaction summary time",
          "context": "Formatted transaction time"
        },
        {
          "property": "wallet transaction summary orderId",
          "context": "Order ID"
        },
        {
          "property": "wallet transaction summary transaction type",
          "context": "QUICK_PAY, LOAD_MONEY, or CHALO_PAY"
        },
        {
          "property": "wallet transaction summary transaction status",
          "context": "Transaction status"
        },
        {
          "property": "wallet transaction summary mode of payment",
          "context": "Payment mode used"
        }
      ]
    }
  ],
  "diagram": {
    "type": "sequence",
    "steps": [
      {
        "label": "Wallet Balance View",
        "events": [
          "wallet balance fragment opened",
          "wallet banner rendered",
          "wallet balance add money clicked"
        ],
        "next": "Load Money or Transactions"
      },
      {
        "label": "Load Money Flow",
        "events": [
          "wallet load balance enter amount fragment opened",
          "wallet suggested amount clicked",
          "wallet load balance fragment next button clicked",
          "load money wallet recharge order success"
        ],
        "next": "Payment & Sync"
      },
      {
        "label": "Transaction View",
        "events": [
          "wallet all transaction fragment opened",
          "wallet all transaction event clicked",
          "wallet transaction summary fragment opened",
          "wallet transaction summary ui model data fetched"
        ]
      },
      {
        "label": "Quick Pay Flow",
        "events": [
          "chalo pay trip amount fragment opened",
          "chalo pay trip amount fragment next button clicked",
          "chalo pay bottom sheet fragment opened",
          "chalo pay bottom sheet fragment next button clicked",
          "chalo pay order created",
          "chalo pay summary screen opened"
        ]
      },
      {
        "label": "Wallet Access & KYC",
        "events": [
          "process wallet access status",
          "wallet access bottom sheet opened",
          "activate wallet clicked"
        ],
        "next": "Minimum KYC if required"
      },
      {
        "label": "Minimum KYC",
        "events": [
          "min kyc detail opened",
          "min kyc detail name entered",
          "min kyc detail next button clicked",
          "min kyc otp fragment opened",
          "min kyc otp proceed button clicked",
          "min kyc otp success"
        ]
      },
      {
        "label": "Additional events",
        "events": [
          "find fare card clicked"
        ]
      }
    ],
    "notes": "Wallet flow includes balance viewing, money loading, transaction history, Quick Pay ticket purchase, and wallet activation/KYC. ChaloPayV3 is a parallel entry point with its own flow. Background sync ensures balance is always up-to-date."
  }
}